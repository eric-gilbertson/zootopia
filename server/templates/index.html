$def with (playlist)
<!DOCTYPE html>
<html>
<head>
<title>Zootopia</title>
<script src="static/app.js"></script>
<link rel="shortcut icon" href="/images/favicon.ico">
<meta charset='UTF-8' />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href='https://fonts.googleapis.com/css?family=Roboto Slab' rel='stylesheet'>

<style> 
body {
   font-family: 'Roboto Slab';
   font-size: 14px;
   color: #C43825;
   text-transform: uppercase;
}

.top-container {
   background-repeat: no-repeat;
   background-color: #FFFFFF;
   border: 1px solid white;
   margin: auto;
}
.song-row span {
    font-weight: 700;
}
h4 {
    margin-bottom: 8px;
}

@media screen and (min-width:680px) {
  .current-song
     margin-left: 0px; 
     margin-top:0px;
  }

  .top-container {
    background-image: url("/images/zootopia2.png");
    width: 640px;
  }

  .song-row div {
    display: inline-block;
    margin-bottom: 5px;
  }
}

@media screen and (max-width: 680px) {
  .top-container {
    background-image: url("/images/zootopia.png");
    width: 320px;
  }

  small {
    display: none;
  }
  h4 {
  }
  .song-row div {
    margin-left: 44px;
    margin-bottom: 5px;
  }
}

</style> 
</head>

<body>

<div class='top-container'>


$if len(playlist) > 0:
     <img class='current-song' style='margin-left: 20px; margin-top:20px' alt="Current Song" src="/images/current-song.jpg">
    <h4>Playlist for $playlist[0].date.strftime("%B %d, %Y")</h4>
$else:
    <h4>Playlist is empty</h4>

<div id='song-list'
$for song in playlist:
    <div class='song-row'>
          $song.date.strftime("%H:%M")
          <span>&nbsp;&nbsp;$song.title</span>
          <div><small> â€” </small>$song.artist</div>
    </div>
</div>


<script>
console.log('xxxxxxxxx');
var lastTime = '';
function getSongs() {
    fetch('/songs').then(function(response) {
        return response.json();
      }).then(function(songs) {
        curSong = songs[0];
        rows = document.getElementsByClassName("song-row");
        curTime = rows[0].innerText.trim().split(' ')[0];
        haveChange = curTime !== songs[0].date;
        if (haveChange) {
            for(i=0; i < songs.length; i++) {
                let song = songs[i];
                if (song.date === curTime)
                    break;

                let rowDiv = document.createElement('div').setAttribute('class', 'song-row').textContent(song.date);
                let titleSpan = document.createElement('span').textContent(song.title);;

        console.log("song: ", haveChange);
      });
}
function checkSongs() {
    getSongs();
    console.log('check songs');
}
</script>
</body>
</html>
